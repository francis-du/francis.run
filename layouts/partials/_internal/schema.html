{{ if .IsHome }}
<script type="application/ld+json">
{
    "@context": "https://schema.org",
    "@type": "WebSite",
    "url": {{ .Site.BaseURL }},
    "name": {{ .Site.Title }},
    {{- with .Site.Params.description -}}
    "description": {{ . }}
    {{- end -}}
}
</script>
{{ else if .IsPage }}
{{- $images := .Params.images | default (slice) -}}
<script type="application/ld+json">
{
    "@context": "https://schema.org",
    "@type": "BlogPosting",
    "headline": {{ .Title | jsonify }},
    "name": {{ .Title | jsonify }},
    "description": {{ with .Description }}{{ . | jsonify }}{{ else }}{{ .Summary | jsonify }}{{ end }},
    {{- with .Keywords -}}
    "keywords": {{ . | jsonify }},
    {{- else -}}
    {{- with .Params.tags -}}
    "keywords": {{ . | jsonify }},
    {{- end -}}
    {{- end -}}
    "wordcount": {{ .WordCount }},
    "url": {{ .Permalink | jsonify }},
    "datePublished": {{ .Date.Format "2006-01-02T15:04:05-07:00" | jsonify }},
    "dateModified": {{ .Lastmod.Format "2006-01-02T15:04:05-07:00" | jsonify }},
    {{- with $images -}}
    "image": {{ . | jsonify }},
    {{- end -}}
    "author": {
        "@type": "Person",
        "name": {{ .Site.Params.Author.name | jsonify }}
    }
}
</script>
{{ end }}